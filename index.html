<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bengt's Wish List</title>
  <style>
    /* Einfache Styles, kannst du sp√§ter anpassen */
    body { background: #121212; color: white; font-family: Arial, sans-serif; padding: 1rem; }
    #product-list { display: flex; flex-direction: column; gap: 1rem; margin-top: 2rem; }
    .card { background: #222; padding: 1rem; border-radius: 8px; position: relative; }
    .delete-btn { position: absolute; top: 8px; right: 8px; cursor: pointer; color: gold; background: none; border: none; font-size: 1.2rem; }
  </style>
</head>
<body>

<h1>Bengt‚Äôs Wish List</h1>

<input id="imageUrl" placeholder="Image URL" /><br />
<input id="name" placeholder="Product Name" /><br />
<input id="price" placeholder="Price (e.g. ‚Ç¨79.99)" /><br />
<input id="link" placeholder="Shop URL" /><br />
<button onclick="addProduct()">Add Product</button>

<div id="product-list"></div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>

<script>
  // 1. Firebase Config: Hier deinen Firebase-Code einf√ºgen!
  const firebaseConfig = {
    apiKey: "AIzaSyAmGhT9CjCMoICHA-B6w28_eGZqsq7dfpM",
    authDomain: "bengts-wishlist.firebaseapp.com",
    databaseURL: "https://bengts-wishlist-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "bengts-wishlist",
    storageBucket: "bengts-wishlist.firebasestorage.app",
    messagingSenderId: "292890468669",
    appId: "1:292890468669:web:1cd0a2399d99c00d10e554"
  };

  // 2. Firebase initialisieren
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // 3. Produkte hinzuf√ºgen
  function addProduct() {
    const image = document.getElementById('imageUrl').value;
    const name = document.getElementById('name').value;
    const price = document.getElementById('price').value;
    const link = document.getElementById('link').value;

    if (!name || !link) {
      alert("Bitte mindestens Name und Link ausf√ºllen!");
      return;
    }

    const product = { image, name, price, link };
    db.ref('wishlist').push(product);

    // Eingabefelder leeren
    document.getElementById('imageUrl').value = '';
    document.getElementById('name').value = '';
    document.getElementById('price').value = '';
    document.getElementById('link').value = '';
  }

  // 4. Produkte anzeigen und synchronisieren
  const productList = document.getElementById('product-list');
  db.ref('wishlist').on('value', snapshot => {
    const data = snapshot.val();
    productList.innerHTML = '';
    if (!data) return;

    Object.keys(data).forEach(key => {
      const product = data[key];
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `
        <button class="delete-btn" onclick="deleteProduct('${key}')">üóëÔ∏è</button>
        <a href="${product.link}" target="_blank" style="color: white; text-decoration:none;">
          <h3>${product.name} - <span style="color: gold;">${product.price || ''}</span></h3>
          <img src="${product.image}" alt="${product.name}" style="max-width: 100%; border-radius: 6px;" />
        </a>
      `;
      productList.appendChild(div);
    });
  });

  // 5. Produkt l√∂schen
  function deleteProduct(key) {
    db.ref('wishlist/' + key).remove();
  }
</script>

</body>
</html>
